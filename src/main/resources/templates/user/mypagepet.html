<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/mypagepet.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <title>펫정보</title>
</head>

<body>
<div class="container">
<th:block  th:with="logged_user=${#authentication.principal.user}">
    <script th:inline="javascript">
        const loginId = [[${logged_user.id}]];
    </script>
    <label>[ 펫정보 ]</label><br><br>
    <div class="mypagecontainer col-8">
        <div class="image col-3">
            <div id="inputimage">

                <img th:src="${buddyImage}" width="230" style="border: 1px solid black;"><br><br>
            </div>

            <form id="uploadForm">
                <div id="fileInputs">
                    <!-- 초기 파일 선택 버튼 -->
                    <!--                <button type="button" class="btn btn-outline-dark" id="triggerInputfile">파일선택</button>-->
                    <ul id="fileList"></ul>
                    <input type="file" id="inputfile" multiple>

                    <button type="button" class="btn btn-outline-dark" id="addbtn">추가</button>
                    <button type="button" class="btn btn-outline-dark" id="delbtn">삭제</button>
                </div>
            </form>

        </div>
        <div class="tablecontainer col-7">

            <form name="frmupdate" th:action="@{/user/mypage}" method="user">
                <table class="myp col-12">
                    <tr>
                        <td class="td">아이디 : </td>
                        <td class="conten"><input type="text" class="form-control" id="userId" name="userId" th:value="${user.userId}" disabled></td>
                    </tr>
                    <tr>
                        <td class="td">펫이름 : </td>
                        <td class="conten"><input type="text" class="form-control" id="petname" name="petname" th:value="${buddy.buddyName}"></td>
                    </tr>
                    <tr>
                        <td class="td">견종 : </td>
                        <td class="conten"><input type="text" class="form-control" id="category" name="category" th:value="${buddy.category}"></td>
                    </tr>
                    <tr>
                        <td class="td">펫나이 : </td>
                        <td class="conten"><input type="text" class="form-control" id="petage" name="petage" th:value="${buddy.buddyAge}"></td>
                    </tr>
                    <tr>
                        <td class="td">펫성별 : </td>
                        <!--                    <td class="conten"><input type="text" class="form-control" id="petsex" name="petsex" th:value="${buddy.buddySex}"></td>-->
                        <td class="conten" id="buddysex">
                            <input type="text" class="form-control" id="buddyse" disabled onchange="selectBoxChange(this.value());">&nbsp;
                            <select class="box" id="sebuddy">
                                <option value="">선택</option>
                                <option value="1">남</option>
                                <option value="0">여</option>

                            </select>
                    </tr>
                    <tr>
                        <td class="td">펫성격 : </td>
                        <td class="conten"> <input type="text" class="form-control" id="petdetail" name="petdetail" th:value="${buddy.buddyDetail}"></td>
                    </tr>
                </table>
            </form>
        </div>
        <div id="pagemove">
            <a th:href="@{/user/mypageuser}">회원정보수정&nbsp;</a><br><br>
            <a th:href="@{/user/mypagepet}">&nbsp;&nbsp;펫정보수정&nbsp;&nbsp;</a><br><br>
            <a th:href="@{/user/ban}">&nbsp;&nbsp;&nbsp;차단&nbsp;목록&nbsp;&nbsp;&nbsp;</a><br><br>
            <a th:href="@{/user/drop}">&nbsp;&nbsp;&nbsp;&nbsp;탈&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;퇴&nbsp;&nbsp;&nbsp;&nbsp;</a><br>
        </div>
    </div>
    <!-- 수정완료 버튼 누르면 마이페이지로 다시 이동(수정사항으로 보여지기) -->
    <div class="containerbtn">
        <button type="submit" class="btn btn-outline-dark" id="back" >뒤로</button>
        <button type="submit" class="btn btn-outline-dark" id="mypage" onclick="location.href='/user/mypage'">마이페이지</button>
        <button type="submit" class="btn btn-outline-dark" id="myupdate">수정완료</button>
    </div>


</th:block>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script src="/js/mypagepet.js"></script>
</html>